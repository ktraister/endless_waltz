apiVersion: v1
kind: Secret
metadata:
  name: nginx-config
data: 
  nginx.conf: ZXZlbnRzIHsgCiAgICB3b3JrZXJfY29ubmVjdGlvbnMgMTAyNDsgCn0KCmh0dHAgewogICAgbWFwICRodHRwX3VwZ3JhZGUgJGNvbm5lY3Rpb25fdXBncmFkZSB7CiAgICAgICAgZGVmYXVsdCB1cGdyYWRlOwogICAgICAgICcnIGNsb3NlOwogICAgfQoKICAgIHVwc3RyZWFtIGFwcF9zZXJ2ZXJzIHsgICAgIyBDcmVhdGUgYW4gdXBzdHJlYW0gZm9yIHRoZSB3ZWIgc2VydmVycwogICAgICAgIHNlcnZlciBldy13ZWJhcHAuZGVmYXVsdC5zdmM6ODA4MDsgICAjIHRoZSB3ZWJhcHAgc2VydmVyCiAgICAgICAgc2VydmVyIGV3LWV4Y2hhbmdlLmRlZmF1bHQuc3ZjOjgwODE7ICMgdGhlIGV4Y2hhbmdlIHNlcnZlcgogICAgICAgIHNlcnZlciBldy1yYW5kb20uZGVmYXVsdC5zdmM6ODA5MDsgIyB0aGUgYXBpIHNlcnZlcgogICAgfQoKICAgIHNlcnZlciB7CiAgICAgICAgbGlzdGVuIDgwOwogICAgICAgIGxpc3RlbiA0NDMgZGVmYXVsdF9zZXJ2ZXIgc3NsOwoJc3NsX2NlcnRpZmljYXRlICAgICAvZXRjL25naW54L3Rscy5jcnQ7Cglzc2xfY2VydGlmaWNhdGVfa2V5IC9ldGMvbmdpbngvdGxzLmtleTsKCXNzbF9wcm90b2NvbHMgICAgICAgVExTdjEgVExTdjEuMSBUTFN2MS4yIFRMU3YxLjM7Cglzc2xfY2lwaGVycyAgICAgICAgIEhJR0g6IWFOVUxMOiFNRDU7CgoJaWYgKCRzY2hlbWUgPSAiaHR0cCIpIHsKCSAgICByZXR1cm4gMzAxIGh0dHBzOi8vJGhvc3QkcmVxdWVzdF91cmk7CiAgICAgICAgfQoKCWxvY2F0aW9uIC9hcGkgewoJICAgIHByb3h5X3Bhc3MgaHR0cDovL2V3LXJhbmRvbS5kZWZhdWx0LnN2Yzo4MDkwOwoJfQoKCWxvY2F0aW9uIC93cyB7CgkgICAgcHJveHlfcGFzcyBodHRwOi8vZXctZXhjaGFuZ2UuZGVmYXVsdC5zdmM6ODA4MTsKICAgICAgICAgICAgcHJveHlfaHR0cF92ZXJzaW9uIDEuMTsKICAgICAgICAgICAgcHJveHlfc2V0X2hlYWRlciBVcGdyYWRlICRodHRwX3VwZ3JhZGU7CiAgICAgICAgICAgIHByb3h5X3NldF9oZWFkZXIgQ29ubmVjdGlvbiAkY29ubmVjdGlvbl91cGdyYWRlOwogICAgICAgICAgICBwcm94eV9zZXRfaGVhZGVyIEhvc3QgJGhvc3Q7CgkgICAgcHJveHlfcGFzc19yZXF1ZXN0X2hlYWRlcnMgICAgICBvbjsKCX0KCglsb2NhdGlvbiAvIHsKCSAgICBwcm94eV9wYXNzIGh0dHA6Ly9ldy13ZWJhcHAuZGVmYXVsdC5zdmM6ODA4MDsKCX0KICAgIH0KfQoK
  tls.crt: illegal secret
  tls.key: prevents overwrite :)

